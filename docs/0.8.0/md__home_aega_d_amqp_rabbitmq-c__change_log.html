<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>rabbitmq-c: Change Log</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">rabbitmq-c
   &#160;<span id="projectnumber">0.8.0</span>
   </div>
   <div id="projectbrief">C AMQP Client library for RabbitMQ</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Change Log </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>v0.8.0 - 2016-04-09</h2>
<h3>Added:</h3>
<ul>
<li>SSL: peer certificate and hostname validation can now be controlled separately using <code>amqp_ssl_socket_set_verify_peer</code> and <code>amqp_ssl_socket_set_verify_hostname</code>.</li>
<li>SSL: the desire SSL version range can now be specified using the <code>amqp_ssl_socket_set_ssl_versions</code> function.</li>
<li>Add flags to SSL examples on controlling hostname verification.</li>
</ul>
<h3>Changed:</h3>
<ul>
<li>SSL: SSLv2, and SSLv3 have been disabled by default.</li>
<li>SSL: OpenSSL hostname validation has been improved.</li>
<li>Win32 debug information is built with /Z7 on MSVC to embed debug info instead of using a .pdb</li>
</ul>
<h3>Fixed:</h3>
<ul>
<li>Connection failure results in hang on Win32 (#297, #346)</li>
<li>Rabbitmq-c may block when attempting to close an SSL socket (#313)</li>
<li>amqp_parse_url does not correctly initialize default parameters (#319)</li>
<li>x509 objects are leaked in verify_hostname (#323)</li>
<li>TCP_NOPUSH doesn't work under cygwin (#335)</li>
</ul>
<h3>Deprecated</h3>
<ul>
<li>SSL: <code>amqp_ssl_socket_set_verify</code> is being replaced by <code>amqp_ssl_socket_set_verify_peer</code> and <code>amqp_ssl_socket_set_verify_hostname</code>.</li>
</ul>
<h3>Removed:</h3>
<ul>
<li>OpenVMS build system and related files.</li>
<li>Unmaintained PolarSSL, CyaSSL, and gnuTLS SSL backends</li>
</ul>
<h2>Changes since v0.7.0 (a.k.a., v0.7.1)</h2>
<ul>
<li><code>41fa9df</code> Autoconf: add missing files in build system</li>
<li><code>ef73c06</code> Win32: Use WSAEWOULDBLOCK instead of EWOULDBLOCK on Win32</li>
<li><code>ceca348</code> CI: use travis-ci container based builds</li>
<li><code>393e2df</code> Lib: if channel_max is 0 use server's channel_max</li>
<li><code>ff47574</code> Lib: fix build on OpenBSD</li>
<li><code>8429496...0ac6430</code> CI: enable CI on Mac OS X in travis-ci</li>
</ul>
<h2>Changes since v0.6.0 (a.k.a., v0.7.0)</h2>
<ul>
<li><code>3379812</code> Tools: Add support for heartbeats</li>
<li><code>d7029db</code> CI: Add continuous integration on Win32 using Appveyor</li>
<li><code>a5f7ffb</code> Tests: only link against static libraries</li>
<li><code>a16ad45...9cf7a3b</code> Lib: add support for EXTERNAL SASL method</li>
<li><code>038a9ed</code> Lib: fix incorrect parameters to WSAPoll on Win32</li>
<li><code>a240c69...14ae307</code> Lib: use non-blocking sockets internally</li>
<li><code>8d1d5cc</code>, <code>5498dc6</code> Lib: simplify timer/timeout logic</li>
<li><code>61fc4e1</code> Lib: add support for heartbeat checks in blocking send calls</li>
<li><code>f462c0f...3546a70</code> Lib: Fix warnings on Win32</li>
<li><code>ba9d8ba...112a54d</code> Lib: Add support for RabbitMQ auth failure extension</li>
<li><code>fb8e318</code> Lib: allow calling functions to override client-properties</li>
<li><code>3ef3f5f</code> examples: replace usleep() with nanosleep()</li>
<li><code>9027a94</code> Lib: add AMQP_VERSION code</li>
<li><code>9ee1718</code> Lib: fix res maybe returned uninitialized in amqp_merge_capbilities</li>
<li><code>22a36db</code> Lib: Fix SSL_connection status check</li>
<li><code>abbefd4</code> Lib: Fix issues with c89 compatiblity</li>
<li><code>2bc1f9b...816cbfc</code> Lib: perf improvements when sending small messages by hinting to the OS message boundaries.</li>
<li><code>be2e6dd...784a0e9</code> Lib: add select()-based timeout implementation</li>
<li><code>91db548...8d77b4c</code> CI: add ubsan, asan, and tsan CI builds</li>
</ul>
<h2>Changes since v0.5.2 (a.k.a., v0.6.0)</h2>
<ul>
<li><code>e1746f9</code> Tools: Enable support for SSL in tools.</li>
<li><code>9626dd5</code> Lib: ABI CHANGE: enable support for auto_delete, internal flags to amqp_exchange_declare</li>
<li><code>ee54e27</code>, <code>656f833</code> Lib: check for double-close in SSL/TCP socket impl</li>
<li><code>cf2760d</code> Lib: allocate struct when method has no field.</li>
<li><code>513ad4a</code> Lib: add support for SANs in OpenSSL socket impl.</li>
<li><code>5348c69</code> Lib: add functions to get negotiated frame_max and heartbeat parms.</li>
</ul>
<h2>Changes since v0.5.1 (a.k.a., v0.5.2)</h2>
<ul>
<li><code>fcdf0f8</code> Autoconf: check for htonll as declaration in a header file</li>
<li><code>5790ec7</code> SSL: correctly report hostname verification errors.</li>
<li><code>d60c28c</code> Build: disable OpenSSL deprecation warnings on OSX</li>
<li><code>072191a</code> Lib: include platform, version and copyright in AMQP handshake</li>
<li><code>8b448c6</code> Examples: print message body in amqp[s]_listen[q] examples</li>
<li><code>7188e5d</code> Tools: Add flag to set prefetch for amqp-consume tool</li>
</ul>
<h2>Changes since v0.5.0 (a.k.a., v0.5.1)</h2>
<h3>Enhancements:</h3>
<ul>
<li><code>a566929</code> SSL: Add support for wildcards in hostname verification (Mike Steinert)</li>
<li><code>a78aa8a</code> Lib: Use poll(2) instead of select(2) for timeouts on sockets.</li>
<li><code>357bdb3</code> Lib: support for specifying frame and decoding pool sizes. (Mike Stitt)</li>
<li><code>8956003</code> Lib: improve invalid frame detection code.</li>
</ul>
<h3>Bug fixes:</h3>
<ul>
<li><code>b852f84</code> Lib: Add missing <a class="el" href="amqp_8h.html#a7f193ceabf31fa21123808994333b915" title="Get the broker properties table. ">amqp_get_server_properties()</a> function.</li>
<li><code>7001e82</code> Lib: Add missing ssize_t on Win32 (emazv72)</li>
<li><code>c2ce2cb</code> Lib: Correctly specify WINVER on Win32 when unspecified.</li>
<li><code>fe844e4</code> CMake: specify -DHAVE_CONFIG_H in examples.</li>
<li><code>932de5f</code> Lib: correct time computation on Win32 (jestor)</li>
<li><code>3e83192</code> HPUX: use gethrtime on HP-UX for timers.</li>
<li><code>cb1b44e</code> HPUX: correct include location of sys/uio.h</li>
<li><code>8ce585d</code> Lib: incorrect OOM condition when 0-lenth exchange name is received.</li>
<li><code>c7716b8</code> CMake: correct htonll detection code on platforms defined with a macro.</li>
<li><code>4dc4eda</code> Lib: remove unused assignment.</li>
<li><code>45302cf</code> Lib: remove range-check of channel-ids.</li>
</ul>
<h2>Changes since v0.4.1 (a.k.a., v0.5.0):</h2>
<h3>Major changes:</h3>
<ul>
<li>Add amqp_get_broker_properties() function 5c7c40adc1</li>
<li>Remove distro-specific packaging a5749657ee</li>
<li>Add -x flag to amqp-consume utilty 1d9c5291ff</li>
<li>Add <a class="el" href="amqp_8h.html#a1058be245a63c06a77209e3a9e4c758e" title="Do a basic.nack. ">amqp_basic_nack()</a> public API 9b168776fb</li>
<li>Add delivery mode constants to <a class="el" href="amqp_8h.html">amqp.h</a> 5f291ea772</li>
<li>Add support for connection.blocked/connection.unblocked methods ccbc24d270</li>
</ul>
<h3>Bug fixes:</h3>
<ul>
<li><code>f8c6cee749</code> Examples: Destroy <a class="el" href="structamqp__envelope__t.html" title="Envelope object. ">amqp_envelope_t</a> in consumer example</li>
<li><code>ac88db56d3</code> CMake: fix generation of librabbitmq.pc</li>
<li><code>d5b35afa40</code> CMake: fix missing POPT_INCLUDE_DIRS variable in tools/</li>
<li><code>5ea6a0945a</code> build: provide independent locations for x64 libs</li>
<li><code>fac34656c0</code> Doc: documentation fixes</li>
<li><code>715901d675</code> Lib: Correct OpenSSL initialization under threaded conditions</li>
<li><code>ce64e57df8</code> Examples: Handle unexpected frames in amqp_consumer.c</li>
<li><code>bcda3e933d</code> CMake: Use GnuInstallDirs to generate install dirs</li>
<li><code>27245a4e15</code> Lib: correctly handle amqp_get_monotonic_timestamp on win32</li>
<li><code>693662ef5b</code> Tools: honor &ndash;persistent flag in publish utility</li>
<li><code>01d9c3ca60</code> Doc: improve documentation in amqp_ssl_socket functions</li>
<li><code>02d5c58ae4</code> autoconf: correct librabbitmq.pc generation</li>
<li><code>1f4e0cc48b</code> Doc: improve documentation in amqp_tcp_socket functions</li>
</ul>
<h2>Changes since v0.4.0:</h2>
<h3>Major changes:</h3>
<ul>
<li>Removed distro-specific packaging d285d01</li>
</ul>
<h3>Bug fixes:</h3>
<ul>
<li><code>a642602</code> FIX: destroy amqp_envelop_t object in consumer example</li>
<li><code>860dd71</code> FIX: correct generation of librabbitmq.pc under CMake</li>
<li><code>bdda7ab</code> FIX: amqp_socket_close() should not be exported from shlib</li>
<li><code>24f4131</code> FIX: Use correct buf/len vars when re-starting send()</li>
</ul>
<h2>Changes since v0.3.0:</h2>
<h3>New Features/Enhancements:</h3>
<ul>
<li><code><a class="el" href="amqp_8h.html#a086cb1d07e0a6b4f25153fcc433ff154" title="Login to the broker passing a properties table. ">amqp_login_with_properties()</a></code> function to connect to a broker sending a properties table to the broker 21b124e #101</li>
<li>SSL support (Mike Steinert) 473c865 #17</li>
<li><code><a class="el" href="amqp_8h.html#a2ad52d60ae5870cc304a39d3a59950ea" title="Read a single amqp_frame_t with a timeout. ">amqp_simple_wait_frame_noblock()</a></code> function variant to wait for a frame with a timeout f8cfc72 #119</li>
<li>Allow memory to be released on a per-channel basis with <code><a class="el" href="amqp_8h.html#a5aadffa6e035ee10739c123fcd9e7520" title="Release amqp_connection_state_t owned memory related to a channel. ">amqp_maybe_release_buffers_on_channel()</a></code> 4a2d899 #5</li>
<li>Support for AMQP heartbeats while blocking in <code>amqp_simple_wait_frame*()</code> and <code><a class="el" href="amqp_8h.html#a9cada07768aa46297acdd701f96d0d7f" title="Publish a message to the broker. ">amqp_basic_publish()</a></code> daa0e66 aca5dc1</li>
<li><code><a class="el" href="amqp_8h.html#a3c2684dbbb210d4566c5d49ca1565fd8" title="Open a socket connection. ">amqp_socket_open_noblock()</a></code> for a non-blocking socket connection (Bogdan Padalko) 6ad770d</li>
<li><code><a class="el" href="amqp_8h.html#a4cf7bf6f75fa5c67a1993a27fdb191fd" title="Create a deep-copy of an amqp_table_t object. ">amqp_table_clone()</a></code> to do a deep-copy of an <a class="el" href="structamqp__table__t.html" title="AMQP field table. ">amqp_table_t</a> 08af83a</li>
<li>Add option to listen to multiple keys in <code>amqp_consume</code> tool (Brian Hammond) e6c256d</li>
<li>Add contributed OpenVMS build system 448ab68</li>
<li>Higher level APIs for consuming messages 33ebeed #8</li>
<li>Doxygen-based API documentation.</li>
<li>Many improvements to error-handling and reporting</li>
</ul>
<h3>Bug Fixes:</h3>
<ul>
<li><code>24ffaf8</code> FIX: autotools was broken when dependency-tracking was disabled</li>
<li><code>38e741b</code> FIX: CMake XmlTo not found warning</li>
<li><code>906f04f</code> FIX: htonll redeclared on Win32 v8</li>
<li><code>8e41603</code> FIX: SIGPIPE not disabled on OS X/BSD #102</li>
<li><code>872ea49</code> FIX: Header issues with <a class="el" href="amqp_8h.html">amqp.h</a> on Mingw on Win32 (yoniyoni)</li>
<li><code>0f1f75b</code> FIX: potential memory leak in amqp_new_connection</li>
<li><code>c9f6312</code> FIX: missing va_end in <code><a class="el" href="amqp_8h.html#a64cd6986f1dd7e0d475000ca5f1e16c2" title="Login to the broker. ">amqp_login()</a></code>/<code><a class="el" href="amqp_8h.html#a086cb1d07e0a6b4f25153fcc433ff154" title="Login to the broker passing a properties table. ">amqp_login_with_properties()</a></code></li>
<li><code>7bb64e4</code> FIX: include <a class="el" href="amqp__tcp__socket_8h.html">amqp_tcp_socket.h</a> in dpkg (Tim Stewart)</li>
<li><code>ba9d1f5</code> FIX: Report out of buffer space in <code>amqp_table_encode()</code></li>
<li><code>9496e10</code> FIX: Remove <code>abort()</code> on invalid parameter in <code><a class="el" href="amqp_8h.html#a3415ae554ddcf30f2d8ec2aed03402eb" title="Send a frame to the broker. ">amqp_send_frame()</a></code></li>
<li><code>f209420</code> FIX: Remote <code>abort()</code> in <code><a class="el" href="amqp_8h.html#a2ae0e3ffaf3c632c98bdd8a05c75b279" title="Waits for a specific method from the broker. ">amqp_simple_wait_method()</a></code></li>
<li><code>f027518</code> FIX: Return error on socket lib init error</li>
<li><code>0ae534a</code> FIX: Correctly handle 0 return val from <code>SSL_read()</code>/<code>SSL_write()</code></li>
<li><code>22e41b8</code> FIX: Improve error handling in socket functions</li>
<li><code>33c2353</code> FIX: Set state-&gt;socket to NULL after <code>amqp_socket_close()</code></li>
<li><code>c83e728</code> FIX: Incorrect error code returned</li>
<li><code>1a19879</code> FIX: redecl of int i in <code>amqp_tcp_socket_writev()</code></li>
<li><code>7477449</code> FIX: incorrect bit-shift in <code><a class="el" href="amqp_8h.html#a18b8b107b8503705e9e0a27ced095df1" title="Get the error string for the given error code. ">amqp_error_string2()</a></code></li>
<li><code>2e37bb3</code> FIX: correctly handle <code><a class="el" href="amqp_8h.html#a9c0f008ed49a17232f4dc966799d217e" title="Get the underlying socket descriptor for the connection. ">amqp_get_sockfd()</a></code> in <code><a class="el" href="amqp_8h.html#a9a186800ece7517245c734d93f18e4a8" title="Read a single amqp_frame_t. ">amqp_simple_wait_frame()</a></code></li>
<li><code>52a459b</code> FIX: Don't delete state in <code><a class="el" href="amqp_8h.html#aa3b3c72aa2809ee8c058fc04bfd277b9" title="Tune client side parameters. ">amqp_tune_connection()</a></code> on error</li>
<li><code>01e38dd</code> FIX: Correctly handle <code>mach_timebase_info()</code> failure</li>
<li><code>34bffb7</code> FIX: Correctly disable <code>SIGPIPE</code> on platforms with <code>SO_NOSIGPIPE</code></li>
<li><code>3866433</code> FIX: Use correct number of bits in timer precision on MacOSX</li>
<li><code>b6a1dfe</code> FIX: Squash OpenSSL deprecated warnings on MacOSX (Bogdan Padalko)</li>
<li><code>7a217d5</code> FIX: Incorrect <code>assert()</code> in <code>wait_frame_inner()</code></li>
<li><code>7942af3</code> FIX: Correctly handle 0-length table in <code><a class="el" href="amqp_8h.html#a4cf7bf6f75fa5c67a1993a27fdb191fd" title="Create a deep-copy of an amqp_table_t object. ">amqp_table_clone()</a></code></li>
<li><code>157788e</code> FIX: Correctly handle 0-length strings in <code>amqp_basic_properties_clone()</code></li>
<li><code>4eaf771</code> FIX: Correctly handle 0-length message body in <code><a class="el" href="amqp_8h.html#a336c9d0bf9ac04d76435b7335294f08f" title="Reads the next message on a channel. ">amqp_read_message()</a></code></li>
<li><code>59f943b</code> FIX: Double-free SSL on connection failure</li>
<li><code>7a451a4</code> FIX: <code><a class="el" href="amqp_8h.html#a019214cc135f14a88ce4ed37976d5e40" title="Open a socket to a remote host. ">amqp_open_socket()</a></code> not defined </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 9 2016 21:59:28 for rabbitmq-c by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
